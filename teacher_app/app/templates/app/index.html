{% extends "base.html" %}
{% load static %}


{% block main %}

<main class="col-sm-offset-3 col-sm-6">
  <section>
    <h4 class="text-center">My Classes</h4>
    <br />
    <table class="table table-striped">
      <thead>
        <tr>
          <th>S/N</th>
          <th>Class Name</th>
          <th>Total</th>
          <th>Average</th>
          <th>
            <form action="{% url 'index' %}" method="get">
              <label for="rank">Rank by:</label>
              <select class="form-control" id="filter" onchange="this.form.submit()" name="ranked_by">
                <option {% if select_ranked_vy %}selected{% endif %} value="name">All</option>
                <option {% if currently_ranked_by == 'average' %}selected{% endif %} value="average">Rank by Average</option>
                <option {% if currently_ranked_by == 'total' %}selected{% endif %} value="total">Rank by Total</option>
              </select>
            </form>
          </th>
        </tr>
      </thead>
      <tbody>
        {% for class in classes %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td><a href="{% url 'class-detail' pk=class.pk %}">{{ class.name }}</a></td>
            <td>{{ class.total|default:"--" }}</td>
            <td>{{ class.average|floatformat:2|default:"--" }}</td>
            <td>
              <a href="{% url 'edit-class' pk=class.pk %}">Edit</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="col-sm-offset-4 col-sm-3">
      <a href="{% url 'create-class' %}" class="btn btn-info text-center">Add New Class</a>
    </div>
  </section>
</main>

{% endblock main %}